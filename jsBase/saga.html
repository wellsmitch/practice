<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>
<body>
<script type="text/javascript">
    // $.getJSON('http://jsonplaceholder.typicode.com/posts',(res)=>{
    //     console.log(res);
    // })
    function* gen() {
        var posts = yield $.getJSON('http://jsonplaceholder.typicode.com/posts');
        console.log(posts);
        var posts1 = yield $.getJSON('http://jsonplaceholder.typicode.com/comments');
        console.log(posts1);
    }

    run(gen);

    function run(generator) {
        var myGen = generator();

        function handle(yielded) {
            if (!yielded.done) {
                yielded.value.then(function (data) {
                    return handle(myGen.next(data))
                })
            }
        }

        return handle(myGen.next())
    }

</script>
</body>
</html>
